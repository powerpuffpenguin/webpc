<div class="view">
    <ng-container *ngIf="ready;then readyView;else loadView"></ng-container>
</div>

<ng-template #loadView>
    <shared-load-view [hasErr]="hasErr" [errs]="errs" (valChange)="onClickRefresh()"></shared-load-view>
</ng-template>

<ng-template #readyView>
    <mat-card>
        <mat-card-content>
            <mat-card-header>
                <mat-card-title>{{data.name}} -> {{data.id}}</mat-card-title>
                <mat-card-subtitle *ngIf="data.description?.length">{{data.description}}</mat-card-subtitle>
            </mat-card-header>
            <div>
                <p>{{version.platform}}</p>
                <p>{{version.version}}</p>
                <p>start at {{startAt.at.format('YYYY-MM-DD HH:mm:ss')}}, started {{startAt.started}}.</p>
            </div>
        </mat-card-content>
        <mat-card-actions>
            <a mat-stroked-button [routerLink]="['/forward/fs']" [queryParams]="{id:data.id}" i18n>Filesystem</a>
            <a mat-stroked-button [routerLink]="['/forward/shared',data.id]" i18n>Shared</a>
            <a mat-stroked-button routerLink="/forward/shell" [queryParams]="{id:data.id}">Shell</a>
            <a mat-stroked-button routerLink="/forward/vnc" [queryParams]="{id:data.id}">VNC</a>
            <a mat-stroked-button routerLink="/forward/logger" [queryParams]="{id:data.id}" i18n>Logger</a>
        </mat-card-actions>
    </mat-card>
</ng-template>